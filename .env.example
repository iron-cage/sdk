# Iron Cage Environment Configuration Template
# Copy this file to .env and replace values with production secrets
# Reference: config/environment.toml for complete documentation

# =============================================================================
# AUTHENTICATION SECRETS (REQUIRED)
# =============================================================================

# JWT secret for signing access and refresh tokens
# Generate: openssl rand -hex 32
JWT_SECRET=REPLACE_WITH_64_CHAR_HEX_STRING

# IC Token secret for Budget Control Protocol (Protocol 005)
# Generate: openssl rand -hex 32
IC_TOKEN_SECRET=REPLACE_WITH_64_CHAR_HEX_STRING

# IP Token encryption key for Budget Control Protocol (Protocol 005)
# 32-byte AES-256-GCM key
# Generate: openssl rand -hex 32
IP_TOKEN_KEY=REPLACE_WITH_64_CHAR_HEX_STRING

# Master key for encrypting AI provider API keys
# Generate: openssl rand -base64 32
IRON_SECRETS_MASTER_KEY=REPLACE_WITH_44_CHAR_BASE64_STRING

# =============================================================================
# SERVER CONFIGURATION (REQUIRED)
# =============================================================================

# Comma-separated list of allowed CORS origins
# Production: HTTPS origins only (e.g., https://ironcage.ai,https://app.ironcage.ai)
# Development: http://localhost:3000,http://localhost:5173
ALLOWED_ORIGINS=https://your-domain.com

# TCP port number for API server (1-65535)
# Common choices: 3000, 3001, 8000, 8080
# DO NOT use ports 80 or 443 (require root privileges - use reverse proxy)
SERVER_PORT=3001

# =============================================================================
# DATABASE (OPTIONAL)
# =============================================================================

# SQLite connection string (default if not set)
# Default: sqlite://./iron.db?mode=rwc
# Docker: sqlite:///app/data/iron.db?mode=rwc
# Production PostgreSQL: postgres://user:pass@host/database
# DATABASE_URL=sqlite://./iron.db?mode=rwc

# =============================================================================
# DEPLOYMENT MODE (OPTIONAL)
# =============================================================================

# Explicit deployment mode: pilot, development, or production
# If not set, mode is inferred from environment signals
# IRON_DEPLOYMENT_MODE=production

# =============================================================================
# AI PROVIDER API KEYS (OPTIONAL)
# =============================================================================

# OpenAI API key (starts with sk-)
# Get from: https://platform.openai.com/api-keys
# OPENAI_API_KEY=sk-...

# Anthropic API key (starts with sk-ant-)
# Get from: https://console.anthropic.com/settings/keys
# ANTHROPIC_API_KEY=sk-ant-...

# =============================================================================
# SECURITY NOTES
# =============================================================================
#
# - NEVER commit this file with real secrets to git (.env is gitignored)
# - Store production secrets in secure secrets manager (HashiCorp Vault, AWS Secrets Manager)
# - Rotate secrets regularly (at least quarterly)
# - Use different secrets for each deployment environment
# - Backup IRON_SECRETS_MASTER_KEY - loss = permanent loss of all encrypted API keys
# - Production ALLOWED_ORIGINS must be HTTPS only (never include localhost)
# - Use non-privileged ports (1024-65535) for SERVER_PORT
#
